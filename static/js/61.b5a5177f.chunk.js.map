{"version":3,"sources":["routes/components/pagination/index.js","../packages/core/lib/esm/pagination/index.js"],"names":["Page","path","dependencies","Pagination","Divider","md","default","Markdown","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_React$Component","props","_this","this","call","state","current","key","value","nextProps","setState","item","_this2","active","disabled","_this$props","total","pageSize","onChange","count","Math","ceil","label","type","test","goto","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectSpread","_this$props2","data","itemCount","num","basic","_classnames","_this3","_this$props3","prefixCls","className","size","alignment","divider","other","cls","concat","createElement","initPageSoure","map","idx","onClick","bind","Component","defaultProps"],"mappings":"glCAGqBA,E,yQACnBC,KAAO,yC,EACPC,aAAe,CAAEC,eAAYC,a,8bAEV,iC,cAAXC,E,yBACCA,EAAGC,SAAWD,G,uTALSE,I,uDCHlC,8IASA,SAASC,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKQ,KAAKC,MAAMT,EAAMG,GAGxB,OAAOH,EA2BT,IAAIR,EAEJ,SAAUkB,GAGR,SAASlB,EAAWmB,GAClB,IAAIC,EAQJ,OANA,YAAgBC,KAAMrB,IAEtBoB,EAAQ,YAA2BC,KAAM,YAAgBrB,GAAYsB,KAAKD,KAAMF,KAC1EI,MAAQ,CACZC,QAASL,EAAMK,SAEVJ,EAuLT,OAlMA,YAAUpB,EAAYkB,GActB,YAAalB,EAAY,CAAC,CACxByB,IAAK,mCACLC,MAAO,SAA0CC,GAC3CA,EAAUH,UAAYH,KAAKF,MAAMK,SACnCH,KAAKO,SAAS,CACZJ,QAASG,EAAUH,YAIxB,CACDC,IAAK,UACLC,MAAO,SAAiBG,GACtB,IAAIC,EAAST,KAEb,IAAIQ,EAAKE,SAAUF,EAAKG,SAAxB,CAIA,IAAIC,EAAcZ,KAAKF,MACnBe,EAAQD,EAAYC,MACpBC,EAAWF,EAAYE,SACvBC,EAAWH,EAAYG,SACvBZ,EAAUH,KAAKE,MAAMC,QACrBa,EAAQC,KAAKC,KAAKL,EAAQC,GAC1BZ,EAAQ,GAERM,EAAKW,QACPjB,EAAMC,QAAUK,EAAKW,OAGL,SAAdX,EAAKY,OACPlB,EAAMC,QAAUA,EAAU,EAAI,EAAIA,EAAU,EAAI,GAGhC,SAAdK,EAAKY,OACPlB,EAAMC,QAAUA,EAAU,GAAKa,EAAQb,EAAU,EAAIa,GAGnD,uBAAuBK,KAAKb,EAAKY,OAASZ,EAAKc,OACjDpB,EAAMC,QAAwB,aAAdK,EAAKY,KAAsBjB,EAAUK,EAAKc,KAAOnB,EAAUK,EAAKc,KAE5EpB,EAAMC,QAAUa,IAClBd,EAAMC,QAAUa,GAGdd,EAAMC,QAAU,IAClBD,EAAMC,QAAU,IAIpBH,KAAKO,SA3FX,SAAuBgB,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNxC,EAAQI,OAAOuC,IAAS,GAAMC,SAAQ,SAAUxB,GAC9C,YAAgBmB,EAAQnB,EAAKuB,EAAOvB,OAE7BhB,OAAOyC,0BAChBzC,OAAO0C,iBAAiBP,EAAQnC,OAAOyC,0BAA0BF,IAEjE3C,EAAQI,OAAOuC,IAASC,SAAQ,SAAUxB,GACxChB,OAAO2C,eAAeR,EAAQnB,EAAKhB,OAAOK,yBAAyBkC,EAAQvB,OAKjF,OAAOmB,EA0EWS,CAAc,GAAI9B,IAAQ,WACtCa,GAAYA,EAASN,EAAOP,MAAMC,QAASU,EAAOC,SAGrD,CACDV,IAAK,gBACLC,MAAO,WACL,IAAI4B,EAAejC,KAAKF,MACpBe,EAAQoB,EAAapB,MACrBC,EAAWmB,EAAanB,SACxBX,EAAUH,KAAKE,MAAMC,QACrB+B,EAAO,CAAC,CACVd,KAAM,OACNT,SAAsB,IAAZR,IAERa,EAAQC,KAAKC,KAAKL,EAAQC,GAC1BqB,EAAYnB,GAAS,EAAIA,EAAQ,EACjCoB,EAAM,EACNC,EAAQ,EAgBZ,IAdIlC,EAAU,GAAKa,EAAQ,GACzBkB,EAAKvC,KAAK,CACRwB,MAAO,IAIPhB,EAAU,GAAKa,EAAQ,GACzBkB,EAAKvC,KAAK,CACRyB,KAAM,WACND,MAAO,qBACPG,KAAM,IAIHc,EAAMD,GAAW,CAGlBhC,EAAU,GAAKa,EAAQ,IACzBqB,EAAQlC,EAAU,GAGpB,IAAIgB,GANJiB,GAAO,GAMWC,EAEdrB,EAAQb,IAAY,GAAKa,EAAQ,IACnCG,GAAS,GAGPH,EAAQb,IAAY,GAAKa,EAAQ,IACnCG,GAAS,GAGPA,GAASH,GACXkB,EAAKvC,KAAK,CACRwB,MAAOA,EACPT,OAAQP,IAAYgB,IAuB1B,OAlBIhB,EAAU,EAAIa,GAASA,EAAQ,GACjCkB,EAAKvC,KAAK,CACRyB,KAAM,WACND,MAAO,qBACPG,KAAM,IAINnB,EAAU,EAAIa,GAASA,EAAQ,GACjCkB,EAAKvC,KAAK,CACRwB,MAAOH,IAIXkB,EAAKvC,KAAK,CACRyB,KAAM,OACNT,SAAUR,IAAYa,IAEjBkB,IAWR,CACD9B,IAAK,SACLC,MAAO,WACL,IAAIiC,EACAC,EAASvC,KAETwC,EAAexC,KAAKF,MACpB2C,EAAYD,EAAaC,UACzBC,EAAYF,EAAaE,UAIzBC,GAHQH,EAAa3B,MACX2B,EAAarC,QACZqC,EAAa1B,SACjB0B,EAAaG,MACpBC,EAAYJ,EAAaI,UACzBC,EAAUL,EAAaK,QAEvBC,GADWN,EAAazB,SAChB,YAAyByB,EAAc,CAAC,YAAa,YAAa,QAAS,UAAW,WAAY,OAAQ,YAAa,UAAW,cAE1IO,EAAM,IAAWN,EAAWC,GAAYJ,EAAc,GAAI,YAAgBA,EAAa,GAAGU,OAAOP,EAAW,KAAKO,OAAOJ,GAAYA,GAAY,YAAgBN,EAAaK,EAAMA,GAAO,YAAgBL,EAAa,UAAWO,GAAUP,IAChP,OAAO,IAAMW,cAAc,KAAM,YAAS,CACxCP,UAAWK,GACVD,GAAQ9C,KAAKkD,gBAAgBC,KAAI,SAAU3C,EAAM4C,GAClD,IAAIjC,EAAQ,IAAM8B,cAAc,IAAK,KAAMzC,EAAKW,OAQhD,MANI,gBAAgBE,KAAKb,EAAKY,QAC5BD,EAAQ,IAAM8B,cAAc,IAAK,CAC/BP,UAAW,SAASM,OAAOxC,EAAKY,SAI7B,IAAM6B,cAAc,KAAM,CAC/BP,UAAW,IAAW,CACpBhC,OAAQF,EAAKE,OACbC,SAAUH,EAAKG,WAEjB0C,QAASd,EAAOc,QAAQC,KAAKf,EAAQ/B,GACrCJ,IAAKgD,GACJjC,WAKFxC,EAnMT,CAoME,IAAM4E,WAER5E,EAAW6E,aAAe,CACxBf,UAAW,eACXG,UAAW,OACXD,KAAM,UACN9B,MAAO,EACPC,SAAU,GAEVX,QAAS,EACTY,SAAU,WACR,OAAO","file":"static/js/61.b5a5177f.chunk.js","sourcesContent":["import { Pagination, Divider } from 'uiw';\nimport Markdown from '@/components/Markdown';\n\nexport default class Page extends Markdown {\n  path = 'packages/core/src/pagination/README.md';\n  dependencies = { Pagination, Divider };\n  async renderPage() {\n    const md = await import('../../../../packages/core/src/pagination/README.md');\n    return md.default || md;\n  }\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport \"./style/index.css\";\n\nvar Pagination =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Pagination, _React$Component);\n\n  function Pagination(props) {\n    var _this;\n\n    _classCallCheck(this, Pagination);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pagination).call(this, props));\n    _this.state = {\n      current: props.current\n    };\n    return _this;\n  }\n\n  _createClass(Pagination, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.current !== this.props.current) {\n        this.setState({\n          current: nextProps.current\n        });\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(item) {\n      var _this2 = this;\n\n      if (item.active || item.disabled) {\n        return;\n      }\n\n      var _this$props = this.props,\n          total = _this$props.total,\n          pageSize = _this$props.pageSize,\n          onChange = _this$props.onChange;\n      var current = this.state.current;\n      var count = Math.ceil(total / pageSize);\n      var state = {};\n\n      if (item.label) {\n        state.current = item.label;\n      }\n\n      if (item.type === 'prev') {\n        state.current = current - 1 > 0 ? current - 1 : 1;\n      }\n\n      if (item.type === 'next') {\n        state.current = current + 1 <= count ? current + 1 : count;\n      }\n\n      if (/^(jumpPrev|jumpNext)/.test(item.type) && item.goto) {\n        state.current = item.type === 'jumpPrev' ? current - item.goto : current + item.goto;\n\n        if (state.current > count) {\n          state.current = count;\n        }\n\n        if (state.current < 1) {\n          state.current = 1;\n        }\n      }\n\n      this.setState(_objectSpread({}, state), function () {\n        onChange && onChange(_this2.state.current, total, pageSize);\n      });\n    }\n  }, {\n    key: \"initPageSoure\",\n    value: function initPageSoure() {\n      var _this$props2 = this.props,\n          total = _this$props2.total,\n          pageSize = _this$props2.pageSize;\n      var current = this.state.current;\n      var data = [{\n        type: 'prev',\n        disabled: current === 1\n      }];\n      var count = Math.ceil(total / pageSize);\n      var itemCount = count <= 5 ? count : 5;\n      var num = 0;\n      var basic = 0;\n\n      if (current > 3 && count > 5) {\n        data.push({\n          label: 1\n        });\n      }\n\n      if (current > 4 && count > 6) {\n        data.push({\n          type: 'jumpPrev',\n          label: '•••',\n          goto: 5\n        });\n      }\n\n      while (num < itemCount) {\n        num += 1;\n\n        if (current > 3 && count > 5) {\n          basic = current - 3;\n        }\n\n        var label = num + basic;\n\n        if (count - current === 0 && count > 5) {\n          label -= 2;\n        }\n\n        if (count - current === 1 && count > 5) {\n          label -= 1;\n        }\n\n        if (label <= count) {\n          data.push({\n            label: label,\n            active: current === label\n          });\n        }\n      }\n\n      if (current + 3 < count && count > 6) {\n        data.push({\n          type: 'jumpNext',\n          label: '•••',\n          goto: 5\n        });\n      }\n\n      if (current + 2 < count && count > 5) {\n        data.push({\n          label: count\n        });\n      }\n\n      data.push({\n        type: 'next',\n        disabled: current === count\n      });\n      return data; // return [\n      //   { type: 'prev', disabled: true },\n      //   { type: 'jumpPrev', label: '•••', goto: 5 },\n      //   { label: 1 },\n      //   { label: 2, active: true },\n      //   { label: 3 },\n      //   { label: 4 },\n      //   { type: 'jumpPrev', label: '•••', goto: 5 },\n      //   { type: 'next' },\n      // ];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classnames,\n          _this3 = this;\n\n      var _this$props3 = this.props,\n          prefixCls = _this$props3.prefixCls,\n          className = _this$props3.className,\n          total = _this$props3.total,\n          current = _this$props3.current,\n          pageSize = _this$props3.pageSize,\n          size = _this$props3.size,\n          alignment = _this$props3.alignment,\n          divider = _this$props3.divider,\n          onChange = _this$props3.onChange,\n          other = _objectWithoutProperties(_this$props3, [\"prefixCls\", \"className\", \"total\", \"current\", \"pageSize\", \"size\", \"alignment\", \"divider\", \"onChange\"]);\n\n      var cls = classnames(prefixCls, className, (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-\").concat(alignment), alignment), _defineProperty(_classnames, size, size), _defineProperty(_classnames, \"divider\", divider), _classnames));\n      return React.createElement(\"ul\", _extends({\n        className: cls\n      }, other), this.initPageSoure().map(function (item, idx) {\n        var label = React.createElement(\"a\", null, item.label);\n\n        if (/^(prev|next)$/.test(item.type)) {\n          label = React.createElement(\"a\", {\n            className: \"arrow \".concat(item.type)\n          });\n        }\n\n        return React.createElement(\"li\", {\n          className: classnames({\n            active: item.active,\n            disabled: item.disabled\n          }),\n          onClick: _this3.onClick.bind(_this3, item),\n          key: idx\n        }, label);\n      }));\n    }\n  }]);\n\n  return Pagination;\n}(React.Component);\n\nPagination.defaultProps = {\n  prefixCls: 'w-pagination',\n  alignment: 'left',\n  size: 'default',\n  total: 0,\n  pageSize: 10,\n  // The number of pages displayed.\n  current: 1,\n  onChange: function onChange() {\n    return null;\n  }\n};\nexport { Pagination as default };"],"sourceRoot":""}